{
  "$schema": "https://railway.app/railway.schema.json",
  "build": {
    "builder": "DOCKERFILE",
    "dockerfilePath": "Dockerfile"
  },
  "deploy": {
    "restartPolicyType": "ON_FAILURE",
    "restartPolicyMaxRetries": 10
  },
  "envs": [
    {
      "name": "RAILS_ENV",
      "required": true,
      "default": "production"
    },
    {
      "name": "DATABASE_URL",
      "required": true
    },
    {
      "name": "SECRET_KEY_BASE",
      "required": true
    },
    {
      "name": "RAILS_MASTER_KEY",
      "required": false
    },
    {
      "name": "PORT",
      "required": true,
      "default": "8080"
    },
    {
      "name": "OPENAI_API_KEY",
      "required": true
    },
    {
      "name": "STRIPE_SECRET_KEY",
      "required": true
    },
    {
      "name": "STRIPE_PUBLISHABLE_KEY",
      "required": true
    },
    {
      "name": "STRIPE_PRICE_ID",
      "required": true
    },
    {
      "name": "STRIPE_WEBHOOK_SECRET",
      "required": true
    },
    {
      "name": "SENTRY_DSN",
      "required": false
    },
    {
      "name": "RUN_RELEASE_TASKS",
      "required": false,
      "default": "0"
    },
    {
      "name": "RUN_EVALUATION_CLEANUP",
      "required": false,
      "default": "0"
    }
  ]
}
